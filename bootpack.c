//#include "font.h"

extern void _io_hlt(void);
extern void _io_cli(void);
extern void _io_sti(void);
extern void _write_mem8(int addr , int data);
extern void _io_out8(int port , int data);
extern int _io_load_eflags(void);
extern void _io_store_eflags(int eflags);

void init_palette(void);
void set_palette(int start ,int end,  char *rgb);
void boxfill8( char *vram, int xsize, unsigned char c, int x0, int y0, int x1, int y1);
void init_screen(char *vram, int x, int y);
void putfont8(char *vram, int xsize, int x, int y, char c,  char *font);
void putfont8_asc(char *vram, int xsize, int x, int y, char c,  char *s);

void init_mouse_cursor8(char *mouse, char bc);
void putblock8_8(char *vram, int vxsize, int pxsize, 
	int pysize, int px0, int py0, char *buf, int bxsize);

//extern  char hankaku[4096];
//extern  char *_hankaku;

#define COL8_000000	0
#define COL8_FF0000	4
#define COL8_00FF00	2
#define COL8_FFFF00	14
#define COL8_0000FF	1
#define COL8_FF00FF	13
#define COL8_00FFFF	6
#define COL8_FFFFFF	15
#define COL8_C6C6C6	7
#define COL8_840000	9
#define COL8_008400	2
#define COL8_848400	11
#define COL8_000084	12
#define COL8_840084	13
#define COL8_008484	11
#define COL8_848484	8


struct BOOTINFO{
	char cyls, leds, vmode, reserve;
	short scrnx, scrny;
	char *vram;
};

char *hankaku;

void HariMain(){

char _hankaku[4096 + 1] = {
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x38,0x44,0x82,0xaa,0xaa,0x82,
0x82,0xaa,0x92,0x44,0x38,0x00,0x00,0x00,
0x00,0x00,0x38,0x7c,0xfe,0xd6,0xd6,0xfe,
0xfe,0xd6,0xee,0x7c,0x38,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x6c,0xfe,0xfe,0xfe,
0x7c,0x38,0x10,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x10,0x38,0x7c,0xfe,
0x7c,0x38,0x10,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x10,0x38,0x54,0xfe,
0x54,0x10,0x38,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x10,0x38,0x7c,0xfe,
0xd6,0x10,0x38,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x18,0x3c,
0x3c,0x18,0x00,0x00,0x00,0x00,0x00,0x00,
0xff,0xff,0xff,0xff,0xff,0xff,0xe7,0xc3,
0xc3,0xe7,0xff,0xff,0xff,0xff,0xff,0xff,
0x00,0x00,0x00,0x00,0x00,0x3c,0x66,0x42,
0x42,0x66,0x3c,0x00,0x00,0x00,0x00,0x00,
0xff,0xff,0xff,0xff,0xff,0xc3,0x99,0xbd,
0xbd,0x99,0xc3,0xff,0xff,0xff,0xff,0xff,
0x00,0x10,0x38,0x54,0x92,0x10,0x10,0x38,
0x44,0x82,0x82,0x82,0x44,0x38,0x00,0x00,
0x00,0x38,0x44,0x82,0x82,0x82,0x44,0x38,
0x10,0x10,0xfe,0x10,0x10,0x10,0x00,0x00,
0x00,0x00,0x0c,0x0e,0x0b,0x0b,0x0a,0x08,
0x08,0x18,0x78,0xf8,0x70,0x00,0x00,0x00,
0x00,0x00,0x1f,0x1f,0x11,0x11,0x11,0x11,
0x11,0x11,0x77,0xff,0x66,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x10,0x54,0x38,0x28,
0x38,0x54,0x10,0x00,0x00,0x00,0x00,0x00,
0x00,0x80,0xc0,0xe0,0xf0,0xf8,0xfc,0xfe,
0xfc,0xf8,0xf0,0xe0,0xc0,0x80,0x00,0x00,
0x00,0x02,0x06,0x0e,0x1e,0x3e,0x7e,0xfe,
0x7e,0x3e,0x1e,0x0e,0x06,0x02,0x00,0x00,
0x00,0x00,0x10,0x38,0x54,0x92,0x10,0x10,
0x10,0x92,0x54,0x38,0x10,0x00,0x00,0x00,
0x00,0x00,0x44,0x44,0x44,0x44,0x44,0x44,
0x44,0x44,0x00,0x00,0x44,0x44,0x00,0x00,
0x00,0x3e,0x4a,0x8a,0x8a,0x8a,0x8a,0x4a,
0x3a,0x0a,0x0a,0x0a,0x0a,0x0a,0x00,0x00,
0x7c,0x82,0x40,0x20,0x38,0x44,0x82,0x82,
0x82,0x44,0x38,0x08,0x04,0x82,0x7c,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0xfe,0xfe,0xfe,0x00,0x00,
0x00,0x00,0x10,0x38,0x54,0x92,0x10,0x10,
0x10,0x92,0x54,0x38,0x10,0x7c,0x00,0x00,
0x00,0x10,0x38,0x54,0x92,0x10,0x10,0x10,
0x10,0x10,0x10,0x10,0x10,0x10,0x00,0x00,
0x00,0x10,0x10,0x10,0x10,0x10,0x10,0x10,
0x10,0x10,0x92,0x54,0x38,0x10,0x00,0x00,
0x00,0x00,0x00,0x00,0x10,0x08,0x04,0xfe,
0x04,0x08,0x10,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x10,0x20,0x40,0xfe,
0x40,0x20,0x10,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x80,0x80,0xfe,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x28,0x44,0xfe,
0x44,0x28,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x10,0x10,0x38,0x38,
0x7c,0x7c,0xfe,0xfe,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0xfe,0xfe,0x7c,0x7c,
0x38,0x38,0x10,0x10,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x10,0x10,0x10,0x10,0x10,0x10,0x10,
0x10,0x10,0x00,0x00,0x10,0x10,0x00,0x00,
0x28,0x28,0x28,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x44,0x44,0x44,0xfe,0x44,0x44,0x44,
0x44,0x44,0xfe,0x44,0x44,0x44,0x00,0x00,
0x10,0x3a,0x56,0x92,0x92,0x90,0x50,0x38,
0x14,0x12,0x92,0x92,0xd4,0xb8,0x10,0x10,
0x62,0x92,0x94,0x94,0x68,0x08,0x10,0x10,
0x20,0x2c,0x52,0x52,0x92,0x8c,0x00,0x00,
0x00,0x70,0x88,0x88,0x88,0x90,0x60,0x47,
0xa2,0x92,0x8a,0x84,0x46,0x39,0x00,0x00,
0x04,0x08,0x10,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x02,0x04,0x08,0x08,0x10,0x10,0x10,0x10,
0x10,0x10,0x10,0x08,0x08,0x04,0x02,0x00,
0x80,0x40,0x20,0x20,0x10,0x10,0x10,0x10,
0x10,0x10,0x10,0x20,0x20,0x40,0x80,0x00,
0x00,0x00,0x00,0x00,0x00,0x10,0x92,0x54,
0x38,0x54,0x92,0x10,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x10,0x10,0x10,
0xfe,0x10,0x10,0x10,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x18,0x18,0x08,0x08,0x10,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0xfe,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x18,0x18,0x00,0x00,
0x02,0x02,0x04,0x04,0x08,0x08,0x08,0x10,
0x10,0x20,0x20,0x40,0x40,0x40,0x80,0x80,
0x00,0x18,0x24,0x24,0x42,0x42,0x42,0x42,
0x42,0x42,0x42,0x24,0x24,0x18,0x00,0x00,
0x00,0x08,0x18,0x28,0x08,0x08,0x08,0x08,
0x08,0x08,0x08,0x08,0x08,0x3e,0x00,0x00,
0x00,0x18,0x24,0x42,0x42,0x02,0x04,0x08,
0x10,0x20,0x20,0x40,0x40,0x7e,0x00,0x00,
0x00,0x18,0x24,0x42,0x02,0x02,0x04,0x18,
0x04,0x02,0x02,0x42,0x24,0x18,0x00,0x00,
0x00,0x0c,0x0c,0x0c,0x14,0x14,0x14,0x24,
0x24,0x44,0x7e,0x04,0x04,0x1e,0x00,0x00,
0x00,0x7c,0x40,0x40,0x40,0x58,0x64,0x02,
0x02,0x02,0x02,0x42,0x24,0x18,0x00,0x00,
0x00,0x18,0x24,0x42,0x40,0x58,0x64,0x42,
0x42,0x42,0x42,0x42,0x24,0x18,0x00,0x00,
0x00,0x7e,0x42,0x42,0x04,0x04,0x08,0x08,
0x08,0x10,0x10,0x10,0x10,0x38,0x00,0x00,
0x00,0x18,0x24,0x42,0x42,0x42,0x24,0x18,
0x24,0x42,0x42,0x42,0x24,0x18,0x00,0x00,
0x00,0x18,0x24,0x42,0x42,0x42,0x42,0x42,
0x26,0x1a,0x02,0x42,0x24,0x18,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x18,0x18,0x00,
0x00,0x00,0x00,0x00,0x18,0x18,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x18,0x18,0x00,
0x00,0x00,0x00,0x18,0x18,0x08,0x08,0x10,
0x00,0x02,0x04,0x08,0x10,0x20,0x40,0x80,
0x80,0x40,0x20,0x10,0x08,0x04,0x02,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0xfe,0x00,
0x00,0xfe,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x80,0x40,0x20,0x10,0x08,0x04,0x02,
0x02,0x04,0x08,0x10,0x20,0x40,0x80,0x00,
0x00,0x38,0x44,0x82,0x82,0x82,0x04,0x08,
0x10,0x10,0x00,0x00,0x18,0x18,0x00,0x00,
0x00,0x38,0x44,0x82,0x9a,0xaa,0xaa,0xaa,
0xaa,0xaa,0x9c,0x80,0x46,0x38,0x00,0x00,
0x00,0x18,0x18,0x18,0x18,0x24,0x24,0x24,
0x24,0x7e,0x42,0x42,0x42,0xe7,0x00,0x00,
0x00,0xf0,0x48,0x44,0x44,0x44,0x48,0x78,
0x44,0x42,0x42,0x42,0x44,0xf8,0x00,0x00,
0x00,0x3a,0x46,0x42,0x82,0x80,0x80,0x80,
0x80,0x80,0x82,0x42,0x44,0x38,0x00,0x00,
0x00,0xf8,0x44,0x44,0x42,0x42,0x42,0x42,
0x42,0x42,0x42,0x44,0x44,0xf8,0x00,0x00,
0x00,0xfe,0x42,0x42,0x40,0x40,0x44,0x7c,
0x44,0x40,0x40,0x42,0x42,0xfe,0x00,0x00,
0x00,0xfe,0x42,0x42,0x40,0x40,0x44,0x7c,
0x44,0x44,0x40,0x40,0x40,0xf0,0x00,0x00,
0x00,0x3a,0x46,0x42,0x82,0x80,0x80,0x9e,
0x82,0x82,0x82,0x42,0x46,0x38,0x00,0x00,
0x00,0xe7,0x42,0x42,0x42,0x42,0x42,0x7e,
0x42,0x42,0x42,0x42,0x42,0xe7,0x00,0x00,
0x00,0x7c,0x10,0x10,0x10,0x10,0x10,0x10,
0x10,0x10,0x10,0x10,0x10,0x7c,0x00,0x00,
0x00,0x1f,0x04,0x04,0x04,0x04,0x04,0x04,
0x04,0x04,0x04,0x04,0x84,0x48,0x30,0x00,
0x00,0xe7,0x42,0x44,0x48,0x50,0x50,0x60,
0x50,0x50,0x48,0x44,0x42,0xe7,0x00,0x00,
0x00,0xf0,0x40,0x40,0x40,0x40,0x40,0x40,
0x40,0x40,0x40,0x42,0x42,0xfe,0x00,0x00,
0x00,0xc3,0x42,0x66,0x66,0x66,0x5a,0x5a,
0x5a,0x42,0x42,0x42,0x42,0xe7,0x00,0x00,
0x00,0xc7,0x42,0x62,0x62,0x52,0x52,0x52,
0x4a,0x4a,0x4a,0x46,0x46,0xe2,0x00,0x00,
0x00,0x38,0x44,0x82,0x82,0x82,0x82,0x82,
0x82,0x82,0x82,0x82,0x44,0x38,0x00,0x00,
0x00,0xf8,0x44,0x42,0x42,0x42,0x44,0x78,
0x40,0x40,0x40,0x40,0x40,0xf0,0x00,0x00,
0x00,0x38,0x44,0x82,0x82,0x82,0x82,0x82,
0x82,0x82,0x92,0x8a,0x44,0x3a,0x00,0x00,
0x00,0xfc,0x42,0x42,0x42,0x42,0x7c,0x44,
0x42,0x42,0x42,0x42,0x42,0xe7,0x00,0x00,
0x00,0x3a,0x46,0x82,0x82,0x80,0x40,0x38,
0x04,0x02,0x82,0x82,0xc4,0xb8,0x00,0x00,
0x00,0xfe,0x92,0x92,0x10,0x10,0x10,0x10,
0x10,0x10,0x10,0x10,0x10,0x7c,0x00,0x00,
0x00,0xe7,0x42,0x42,0x42,0x42,0x42,0x42,
0x42,0x42,0x42,0x42,0x24,0x3c,0x00,0x00,
0x00,0xe7,0x42,0x42,0x42,0x42,0x24,0x24,
0x24,0x24,0x18,0x18,0x18,0x18,0x00,0x00,
0x00,0xe7,0x42,0x42,0x42,0x5a,0x5a,0x5a,
0x5a,0x24,0x24,0x24,0x24,0x24,0x00,0x00,
0x00,0xe7,0x42,0x42,0x24,0x24,0x24,0x18,
0x24,0x24,0x24,0x42,0x42,0xe7,0x00,0x00,
0x00,0xee,0x44,0x44,0x44,0x28,0x28,0x28,
0x10,0x10,0x10,0x10,0x10,0x7c,0x00,0x00,
0x00,0xfe,0x84,0x84,0x08,0x08,0x10,0x10,
0x20,0x20,0x40,0x42,0x82,0xfe,0x00,0x00,
0x00,0x3e,0x20,0x20,0x20,0x20,0x20,0x20,
0x20,0x20,0x20,0x20,0x20,0x20,0x3e,0x00,
0x80,0x80,0x40,0x40,0x20,0x20,0x20,0x10,
0x10,0x08,0x08,0x04,0x04,0x04,0x02,0x02,
0x00,0x7c,0x04,0x04,0x04,0x04,0x04,0x04,
0x04,0x04,0x04,0x04,0x04,0x04,0x7c,0x00,
0x00,0x10,0x28,0x44,0x82,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0xfe,0x00,
0x10,0x08,0x04,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x70,0x08,0x04,
0x3c,0x44,0x84,0x84,0x8c,0x76,0x00,0x00,
0xc0,0x40,0x40,0x40,0x40,0x58,0x64,0x42,
0x42,0x42,0x42,0x42,0x64,0x58,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x30,0x4c,0x84,
0x84,0x80,0x80,0x82,0x44,0x38,0x00,0x00,
0x0c,0x04,0x04,0x04,0x04,0x34,0x4c,0x84,
0x84,0x84,0x84,0x84,0x4c,0x36,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x38,0x44,0x82,
0x82,0xfc,0x80,0x82,0x42,0x3c,0x00,0x00,
0x0e,0x10,0x10,0x10,0x10,0x7c,0x10,0x10,
0x10,0x10,0x10,0x10,0x10,0x7c,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x36,0x4c,0x84,
0x84,0x84,0x84,0x4c,0x34,0x04,0x04,0x78,
0xc0,0x40,0x40,0x40,0x40,0x58,0x64,0x42,
0x42,0x42,0x42,0x42,0x42,0xe3,0x00,0x00,
0x00,0x10,0x10,0x00,0x00,0x30,0x10,0x10,
0x10,0x10,0x10,0x10,0x10,0x38,0x00,0x00,
0x00,0x04,0x04,0x00,0x00,0x0c,0x04,0x04,
0x04,0x04,0x04,0x04,0x04,0x08,0x08,0x30,
0xc0,0x40,0x40,0x40,0x40,0x4e,0x44,0x48,
0x50,0x60,0x50,0x48,0x44,0xe6,0x00,0x00,
0x30,0x10,0x10,0x10,0x10,0x10,0x10,0x10,
0x10,0x10,0x10,0x10,0x10,0x38,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0xf6,0x49,0x49,
0x49,0x49,0x49,0x49,0x49,0xdb,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0xd8,0x64,0x42,
0x42,0x42,0x42,0x42,0x42,0xe3,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x38,0x44,0x82,
0x82,0x82,0x82,0x82,0x44,0x38,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0xd8,0x64,0x42,
0x42,0x42,0x42,0x42,0x64,0x58,0x40,0xe0,
0x00,0x00,0x00,0x00,0x00,0x34,0x4c,0x84,
0x84,0x84,0x84,0x84,0x4c,0x34,0x04,0x0e,
0x00,0x00,0x00,0x00,0x00,0xdc,0x62,0x42,
0x40,0x40,0x40,0x40,0x40,0xe0,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x7a,0x86,0x82,
0xc0,0x38,0x06,0x82,0xc2,0xbc,0x00,0x00,
0x00,0x00,0x10,0x10,0x10,0x7c,0x10,0x10,
0x10,0x10,0x10,0x10,0x10,0x0e,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0xc6,0x42,0x42,
0x42,0x42,0x42,0x42,0x46,0x3b,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0xe7,0x42,0x42,
0x42,0x24,0x24,0x24,0x18,0x18,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0xe7,0x42,0x42,
0x5a,0x5a,0x5a,0x24,0x24,0x24,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0xc6,0x44,0x28,
0x28,0x10,0x28,0x28,0x44,0xc6,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0xe7,0x42,0x42,
0x24,0x24,0x24,0x18,0x18,0x10,0x10,0x60,
0x00,0x00,0x00,0x00,0x00,0xfe,0x82,0x84,
0x08,0x10,0x20,0x42,0x82,0xfe,0x00,0x00,
0x00,0x06,0x08,0x10,0x10,0x10,0x10,0x60,
0x10,0x10,0x10,0x10,0x08,0x06,0x00,0x00,
0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,
0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,
0x00,0x60,0x10,0x08,0x08,0x08,0x08,0x06,
0x08,0x08,0x08,0x08,0x10,0x60,0x00,0x00,
0x00,0x72,0x8c,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x10,0x28,0x44,0x82,
0xfe,0x82,0xfe,0x00,0x00,0x00,0x00,0x00,
0x00,0x38,0x44,0x82,0x80,0x80,0x80,0x80,
0x80,0x80,0x80,0x82,0x44,0x38,0x10,0x20,
0x00,0x00,0x24,0x24,0x00,0x82,0x82,0x82,
0x82,0x82,0x82,0x82,0x42,0x3e,0x00,0x00,
0x0c,0x08,0x10,0x00,0x00,0x38,0x44,0x82,
0x82,0xfe,0x80,0x82,0x44,0x38,0x00,0x00,
0x00,0x10,0x28,0x44,0x00,0x78,0x04,0x04,
0x3c,0x44,0x84,0x84,0x44,0x3e,0x00,0x00,
0x00,0x00,0x24,0x24,0x00,0x78,0x04,0x04,
0x3c,0x44,0x84,0x84,0x44,0x3e,0x00,0x00,
0x10,0x08,0x04,0x00,0x00,0x78,0x04,0x04,
0x3c,0x44,0x84,0x84,0x44,0x3e,0x00,0x00,
0x00,0x18,0x24,0x18,0x00,0x78,0x04,0x04,
0x3c,0x44,0x84,0x84,0x44,0x3e,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x3c,0x42,0x80,
0x80,0x80,0x80,0x80,0x42,0x3c,0x08,0x10,
0x00,0x10,0x28,0x44,0x00,0x38,0x44,0x82,
0x82,0xfe,0x80,0x82,0x44,0x38,0x00,0x00,
0x00,0x00,0x24,0x24,0x00,0x38,0x44,0x82,
0x82,0xfe,0x80,0x82,0x44,0x38,0x00,0x00,
0x10,0x08,0x04,0x00,0x00,0x38,0x44,0x82,
0x82,0xfe,0x80,0x82,0x44,0x38,0x00,0x00,
0x00,0x00,0x24,0x24,0x00,0x10,0x10,0x10,
0x10,0x10,0x10,0x10,0x10,0x10,0x00,0x00,
0x00,0x10,0x28,0x44,0x00,0x10,0x10,0x10,
0x10,0x10,0x10,0x10,0x10,0x10,0x00,0x00,
0x10,0x08,0x04,0x00,0x00,0x10,0x10,0x10,
0x10,0x10,0x10,0x10,0x10,0x10,0x00,0x00,
0x24,0x24,0x00,0x38,0x44,0x82,0x82,0x82,
0x82,0xfe,0x82,0x82,0x82,0x82,0x00,0x00,
0x00,0x38,0x44,0x38,0x44,0x82,0x82,0x82,
0x82,0xfe,0x82,0x82,0x82,0x82,0x00,0x00,
0x0c,0x08,0x10,0xfe,0x80,0x80,0x80,0x80,
0xf8,0x80,0x80,0x80,0x80,0xfe,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x60,0x1c,0x12,
0x72,0x9e,0x90,0x90,0x92,0x6c,0x00,0x00,
0x0c,0x10,0x20,0x28,0x28,0x28,0xfe,0x28,
0x28,0x28,0x28,0x28,0x28,0x28,0x00,0x00,
0x00,0x10,0x28,0x44,0x00,0x38,0x44,0x82,
0x82,0x82,0x82,0x82,0x44,0x38,0x00,0x00,
0x00,0x00,0x24,0x24,0x00,0x38,0x44,0x82,
0x82,0x82,0x82,0x82,0x44,0x38,0x00,0x00,
0x10,0x08,0x04,0x00,0x00,0x38,0x44,0x82,
0x82,0x82,0x82,0x82,0x44,0x38,0x00,0x00,
0x00,0x10,0x28,0x44,0x00,0x82,0x82,0x82,
0x82,0x82,0x82,0x82,0x42,0x3e,0x00,0x00,
0x10,0x08,0x04,0x00,0x00,0x82,0x82,0x82,
0x82,0x82,0x82,0x82,0x42,0x3e,0x00,0x00,
0x00,0x00,0x24,0x24,0x00,0x82,0x82,0x44,
0x44,0x28,0x28,0x10,0x10,0x20,0x20,0x40,
0x24,0x24,0x00,0x38,0x44,0x82,0x82,0x82,
0x82,0x82,0x82,0x82,0x44,0x38,0x00,0x00,
0x24,0x24,0x00,0x82,0x82,0x82,0x82,0x82,
0x82,0x82,0x82,0x82,0x44,0x38,0x00,0x00,
0x00,0x28,0x28,0x28,0x3c,0x6a,0xa8,0xa8,
0xa8,0xa8,0xa8,0x6a,0x3c,0x28,0x28,0x28,
0x00,0x0c,0x12,0x20,0x20,0x20,0xfc,0x20,
0x20,0x20,0x60,0xa0,0xb2,0x4c,0x00,0x00,
0x00,0x82,0x82,0x44,0x28,0x10,0xfe,0x10,
0x10,0xfe,0x10,0x10,0x10,0x10,0x00,0x00,
0x00,0xe0,0x90,0x88,0x88,0x88,0x94,0xe4,
0x9f,0x84,0x84,0x84,0x84,0x84,0x00,0x00,
0x00,0x0c,0x12,0x10,0x10,0x10,0xfe,0x10,
0x10,0x10,0x10,0x10,0x90,0x60,0x00,0x00,
0x0c,0x08,0x10,0x00,0x00,0x78,0x04,0x04,
0x3c,0x44,0x84,0x84,0x44,0x3e,0x00,0x00,
0x0c,0x08,0x10,0x00,0x00,0x10,0x10,0x10,
0x10,0x10,0x10,0x10,0x10,0x10,0x00,0x00,
0x0c,0x08,0x10,0x00,0x00,0x38,0x44,0x82,
0x82,0x82,0x82,0x82,0x44,0x38,0x00,0x00,
0x0c,0x08,0x10,0x00,0x00,0x82,0x82,0x82,
0x82,0x82,0x82,0x82,0x42,0x3e,0x00,0x00,
0x00,0x12,0x2a,0x24,0x00,0xf8,0x84,0x82,
0x82,0x82,0x82,0x82,0x82,0x82,0x00,0x00,
0x12,0x2a,0x24,0x00,0x82,0xc2,0xc2,0xa2,
0x92,0x92,0x8a,0x86,0x86,0x82,0x00,0x00,
0x00,0x00,0x00,0x78,0x04,0x04,0x3c,0x44,
0x84,0x84,0x44,0x3e,0x00,0xfe,0x00,0x00,
0x00,0x00,0x00,0x38,0x44,0x82,0x82,0x82,
0x82,0x82,0x44,0x38,0x00,0xfe,0x00,0x00,
0x00,0x10,0x10,0x00,0x00,0x10,0x10,0x20,
0x44,0x82,0x82,0x82,0x44,0x38,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0xfe,0x80,0x80,0x80,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0xfe,0x02,0x02,0x02,0x00,0x00,
0x00,0x10,0x30,0x10,0x10,0x10,0x00,0xfe,
0x00,0x78,0x04,0x38,0x40,0x7c,0x00,0x00,
0x00,0x10,0x30,0x10,0x10,0x10,0x00,0xfe,
0x00,0x18,0x28,0x48,0x7c,0x08,0x00,0x00,
0x00,0x10,0x10,0x00,0x00,0x10,0x10,0x10,
0x10,0x10,0x10,0x10,0x10,0x10,0x00,0x00,
0x00,0x00,0x00,0x00,0x12,0x24,0x48,0x90,
0x90,0x48,0x24,0x12,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x90,0x48,0x24,0x12,
0x12,0x24,0x48,0x90,0x00,0x00,0x00,0x00,
0x11,0x44,0x11,0x44,0x11,0x44,0x11,0x44,
0x11,0x44,0x11,0x44,0x11,0x44,0x11,0x44,
0x55,0xaa,0x55,0xaa,0x55,0xaa,0x55,0xaa,
0x55,0xaa,0x55,0xaa,0x55,0xaa,0x55,0xaa,
0x77,0xdd,0x77,0xdd,0x77,0xdd,0x77,0xdd,
0x77,0xdd,0x77,0xdd,0x77,0xdd,0x77,0xdd,
0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,
0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,
0x10,0x10,0x10,0x10,0x10,0x10,0x10,0xf0,
0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,
0x10,0x10,0x10,0x10,0x10,0x10,0x10,0xf0,
0x10,0xf0,0x10,0x10,0x10,0x10,0x10,0x10,
0x14,0x14,0x14,0x14,0x14,0x14,0x14,0xf4,
0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xfc,
0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xf0,
0x10,0xf0,0x10,0x10,0x10,0x10,0x10,0x10,
0x14,0x14,0x14,0x14,0x14,0x14,0x14,0xf4,
0x04,0xf4,0x14,0x14,0x14,0x14,0x14,0x14,
0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,
0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xfc,
0x04,0xf4,0x14,0x14,0x14,0x14,0x14,0x14,
0x14,0x14,0x14,0x14,0x14,0x14,0x14,0xf4,
0x04,0xfc,0x00,0x00,0x00,0x00,0x00,0x00,
0x14,0x14,0x14,0x14,0x14,0x14,0x14,0xfc,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x10,0x10,0x10,0x10,0x10,0x10,0x10,0xf0,
0x10,0xf0,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xf0,
0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,
0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x1f,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x10,0x10,0x10,0x10,0x10,0x10,0x10,0xff,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,
0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,
0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x1f,
0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x10,0x10,0x10,0x10,0x10,0x10,0x10,0xff,
0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,
0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x1f,
0x10,0x1f,0x10,0x10,0x10,0x10,0x10,0x10,
0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x17,
0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,
0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x17,
0x10,0x1f,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1f,
0x10,0x17,0x14,0x14,0x14,0x14,0x14,0x14,
0x14,0x14,0x14,0x14,0x14,0x14,0x14,0xf7,
0x00,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,
0x00,0xf7,0x14,0x14,0x14,0x14,0x14,0x14,
0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x17,
0x10,0x17,0x14,0x14,0x14,0x14,0x14,0x14,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,
0x00,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
0x14,0x14,0x14,0x14,0x14,0x14,0x14,0xf7,
0x00,0xf7,0x14,0x14,0x14,0x14,0x14,0x14,
0x10,0x10,0x10,0x10,0x10,0x10,0x10,0xff,
0x00,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
0x14,0x14,0x14,0x14,0x14,0x14,0x14,0xff,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,
0x00,0xff,0x10,0x10,0x10,0x10,0x10,0x10,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,
0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,
0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x1f,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x1f,
0x10,0x1f,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1f,
0x10,0x1f,0x10,0x10,0x10,0x10,0x10,0x10,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1f,
0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,
0x14,0x14,0x14,0x14,0x14,0x14,0x14,0xf7,
0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,
0x10,0x10,0x10,0x10,0x10,0x10,0x10,0xff,
0x10,0xff,0x10,0x10,0x10,0x10,0x10,0x10,
0x10,0x10,0x10,0x10,0x10,0x10,0x10,0xf0,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1f,
0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,
0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,
0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,
0x0f,0x0f,0x0f,0x0f,0x0f,0x0f,0x0f,0x0f,
0x0f,0x0f,0x0f,0x0f,0x0f,0x0f,0x0f,0x0f,
0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00 };

	
	struct BOOTINFO *binfo;
	
	binfo = (struct BOOTINFO *) 0x0ff0;

	//init_palette();

	hankaku = _hankaku;

	init_screen( binfo->vram, binfo->scrnx, binfo->scrny);

	char mcursor[256];
	int mx, my;
	mx = (binfo->scrnx - 16)/2;
	my = (binfo->scrny - 28- 16)/2;


	putfont8(binfo->vram, binfo->scrnx, 10, 10, COL8_000000, hankaku + 'A'* 16 );
	putfont8(binfo->vram, binfo->scrnx, 18, 10, COL8_000000, hankaku + 'B'* 16 );
	putfont8(binfo->vram, binfo->scrnx, 26, 10, COL8_000000, hankaku + 'c'* 16 );
	putfont8(binfo->vram, binfo->scrnx, 34, 10, COL8_000000, hankaku + 'd'* 16 );
	putfont8(binfo->vram, binfo->scrnx, 42, 10, COL8_000000, hankaku + '@'* 16 );
	putfont8(binfo->vram, binfo->scrnx, 50, 10, COL8_000000, hankaku + '!'* 16 );
	putfont8(binfo->vram, binfo->scrnx, 58, 10, COL8_000000, hankaku + '1'* 16 );

	putfont8_asc(binfo->vram, binfo->scrnx, 80, 10, COL8_000000, "hello");
	

/*
	for(int i = 0x0000; i <= 0xffff; i++){
		p[i] = i & 0x0f;
		*((char *) i + 0xa0000) = i & 0x0f;
	}
	*/

	init_mouse_cursor8(mcursor, COL8_008484);
	putblock8_8(binfo->vram, binfo->scrnx, 16, 16, mx, my, mcursor, 16);

	while(1)
		_io_hlt();
}

void init_palette(void){
	static  char table_rgb[48] = {
		0x00, 0x00, 0x00, // black
		0xff, 0x00, 0x00, // red
		0x00, 0xff, 0x00, // green
		0x00, 0x00, 0xff, // blue
		0xff, 0xff, 0x00, // yellow
		0xff, 0x00, 0xff, // purple
		0x00, 0xff, 0xff, // cyan
		0xff, 0xff, 0xff, // white
		0xc6, 0xc6, 0xc6, // light gray
		0x84, 0x00, 0x00, // dark red
		0x00, 0x84, 0x00, // dark green
		0x84, 0x84, 0x00, // dark yellow
		0x00, 0x00, 0x84, // dark blue
		0x84, 0x00, 0x84, // dark purple
		0x00, 0x84, 0x84, // dark cyan
		0x84, 0x84, 0x84, // dark gray
	};
	set_palette(0, 15, table_rgb);
	return;
}

void put_palette(  char p){
		_io_out8(0x03c9, p);
}

void set_palette(int start , int end,  char *rgb){
	int eflags = _io_load_eflags();
	_io_cli();
	
	//_io_out8(0x03c8, start);
	/*
	for(int i =start; i <= end; i++){
		put_palette( rgb[0+i*3] );
		put_palette( rgb[1+i*3] );
		put_palette( rgb[2+i*3] );
	}
	*/
	_io_store_eflags(eflags);
	//_io_sti();
	return;
}

void boxfill8( char *vram, int xsize, unsigned char c, int x0, int y0, int x1, int y1){
	for (int y = y0; y<=y1; y++)
		for(int x=x0;x<=x1;x++)
			vram[y*xsize +x ] =c;
	return ;
}

void init_screen(char *vram, int x, int y){
	boxfill8(vram, x, COL8_008484, 0,        0, x-1, y -29);
	boxfill8(vram, x, COL8_C6C6C6, 0, y-28, x-1, y -28);
	boxfill8(vram, x, COL8_FFFFFF, 0, y-27, x-1, y -27);
	boxfill8(vram, x, COL8_C6C6C6, 0, y-26, x-1, y -1);

	boxfill8(vram, x, COL8_FFFFFF, 3, y-24, 59, y -24);
	boxfill8(vram, x, COL8_FFFFFF, 2, y-24,  2, y - 4);
	boxfill8(vram, x, COL8_848484, 3, y- 4, 59, y - 4);
	boxfill8(vram, x, COL8_848484,59, y-23, 59, y - 5);
	boxfill8(vram, x, COL8_000000, 2, y- 3, 59, y - 3);
	boxfill8(vram, x, COL8_000000,60, y-24, 60, y - 3);

	boxfill8(vram, x, COL8_848484, x-47, y-24, x- 4, y -24);
	boxfill8(vram, x, COL8_848484, x-47, y-23, x-47, y - 4);
	boxfill8(vram, x, COL8_FFFFFF, x-47, y- 3, x- 4, y - 3);
	boxfill8(vram, x, COL8_FFFFFF, x- 3, y-24, x- 3, y - 3);


}

void putfont8(char *vram, int xsize, int x, int y, char c,  char *font){
	for(int i =0; i<16; i++)
		for(int j =0; j<8; j++)
			if(*(font+i)&(1<<(7-j)) ) vram[(y+i)*xsize + x + j] =c;
	return;
}
void putfont8_asc(char *vram, int xsize, int x, int y, char c,  char *s){
	//extern char *hankaku;
	for (int i =0 ; i<5; i++){
	//for ( ; *s != 0x00; s++){
		putfont8(vram, xsize, x , y, 4, hankaku + *s * 16);
		//putfont8(vram, xsize, x , y, c, hankaku + *s * 16);
		x +=8;
	}
	return ;
}


void init_mouse_cursor8(char *mouse, char bc)
{
	static char cursor [16][16] = {
		"**************..",
		"*OOOOOOOOOOO*...",
		"*OOOOOOOOOO*....",
		"*OOOOOOOOO*.....",
		"*OOOOOOOO*......",
		"*OOOOOOO*.......",
		"*OOOOOOO*.......",
		"*OOOOOOOO*......",
		"*OOOO**OOO*.....",
		"*OOO*..*OOO*....",
		"*OO*....*OOO*...",
		"*O*......*OOO*..",
		"**........*OOO*.",
		"*..........*OOO*",
		"............*OO*",
		".............***",
	};

	for(int y = 0; y < 16 ; y++){
		for(int x = 0 ; x < 16; x++){
			if(cursor[y][x] == '*')
				mouse [y*16 + x] = 4;//COL8_000000;
			if(cursor[y][x] == 'O')
				mouse [y*16 + x] = 4;//COL8_FFFFFF;
			if(cursor[y][x] == '.')
				mouse [y*16 + x] = bc;
	}}

	return ;
}

void putblock8_8(char *vram, int vxsize, int pxsize, 
	int pysize, int px0, int py0, char *buf, int bxsize){
	for(int y =0; y< pysize ;y++)
		for(int x =0; x< pxsize ;x++)
			*(vram + (py0 + y) *vxsize + (px0+x)) = 4;//buf[y * bxsize + x];
			//vram[(py0 + y) *vxsize + (px0+x)] = buf[y * bxsize + x];
	return;
}

